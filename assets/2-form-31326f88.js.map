{"version":3,"file":"2-form-31326f88.js","sources":["../../src/js/2-form.js"],"sourcesContent":["//инпорт лода\r\nimport throttle from 'lodash.throttle';\r\n\r\n// визначили сталу змінну ключ для локалстораджу\r\nconst LOCAL_KEY = 'feedback-form-state';\r\n\r\n// визначили Дом елемент для форми\r\nconst formDom = document.querySelector('.feedback-form');\r\n\r\n// деструктурізація DOM\r\nconst { email, message } = formDom.elements;\r\n\r\n//отримання останніх данних з локалстореджа або\r\nlet formData = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\r\n// очищення значень у полях ДОМ\r\nresetForm();\r\nfunction resetForm() {\r\n  if (formDom) {\r\n    email.value = formData.email || '';\r\n    message.value = formData.message || '';\r\n  }\r\n}\r\n\r\n// слухач на зміну значень  email, message\r\nformDom.addEventListener('input', throttle(onInputData, 1000));\r\n\r\n/**\r\n * onInputData\r\n *  колбек функція на зміну значен ь\r\n */\r\nfunction onInputData() {\r\n  //передача змінених значень у formData\r\n  formData = { email: email.value, message: message.value };\r\n\r\n  // зповнення стораджа значеннямі із фіксованим ключем\r\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\r\n}\r\n\r\n// слухач на submit\r\nformDom.addEventListener('submit', hendlerSubmit);\r\n\r\n/**\r\n * onInputData\r\n * @param {DOMelement} event\r\n *  колбек функція на submit\r\n */\r\nfunction hendlerSubmit(event) {\r\n  // переривання стандартного поводження при submit\r\n  event.preventDefault();\r\n\r\n  //перевірка заповнених значень DOMelements\r\n  if (email.value === '' || message.value === '') {\r\n    return alert('Fill please all fields');\r\n  }\r\n\r\n  //виведення результатів formData\r\n  console.log(formData);\r\n\r\n  //скидання значень елементів форми\r\n  event.currentTarget.reset();\r\n\r\n  //очищення значень в локалсторедже по ключу\r\n  localStorage.removeItem(LOCAL_KEY);\r\n\r\n  //очищення formData\r\n  formData = {};\r\n}\r\n"],"names":["LOCAL_KEY","formDom","email","message","formData","resetForm","throttle","onInputData","hendlerSubmit","event"],"mappings":"yCAIA,MAAMA,EAAY,sBAGZC,EAAU,SAAS,cAAc,gBAAgB,EAGjD,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAQ,SAGnC,IAAIG,EAAW,KAAK,MAAM,aAAa,QAAQJ,CAAS,CAAC,GAAK,GAE9DK,IACA,SAASA,GAAY,CACfJ,IACFC,EAAM,MAAQE,EAAS,OAAS,GAChCD,EAAQ,MAAQC,EAAS,SAAW,GAExC,CAGAH,EAAQ,iBAAiB,QAASK,EAASC,EAAa,GAAI,CAAC,EAM7D,SAASA,GAAc,CAErBH,EAAW,CAAE,MAAOF,EAAM,MAAO,QAASC,EAAQ,OAGlD,aAAa,QAAQH,EAAW,KAAK,UAAUI,CAAQ,CAAC,CAC1D,CAGAH,EAAQ,iBAAiB,SAAUO,CAAa,EAOhD,SAASA,EAAcC,EAAO,CAK5B,GAHAA,EAAM,eAAc,EAGhBP,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,wBAAwB,EAIvC,QAAQ,IAAIC,CAAQ,EAGpBK,EAAM,cAAc,QAGpB,aAAa,WAAWT,CAAS,EAGjCI,EAAW,CAAA,CACb"}